!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).loadStylesheets=t()}(this,function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t,r){return function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],f=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(e){u=!0,o=e}finally{try{if(!f&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.before,o=r.after,i=r.favicon,a=r.canvas,c=r.image,f=void 0===c||c,u=r.acceptErrors;return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){return function(e){var r,c={};if(Array.isArray(e)){var l=t(e,2);r=l[0];var d=l[1];c=void 0===d?{}:d}else r=e;var s=c.favicon,v=void 0===s?i:s,y=c,m=y.before,h=void 0===m?n:m,p=y.after,g=void 0===p?o:p,b=y.canvas,A=void 0===b?a:b,E=y.image,w=void 0===E?f:E;function x(){h?h.before(L):g?g.after(L):document.head.append(L)}var L=document.createElement("link");return new Promise(function(e,t){var n=t;if(u&&(n="function"==typeof u?function(n){u({error:n,stylesheetURL:r,options:c,resolve:e,reject:t})}:e),r.endsWith(".css")?v=!1:r.endsWith(".ico")&&(v=!0),v){if(L.rel="shortcut icon",L.type="image/x-icon",!1===w)return L.href=r,x(),void e(L);var o=document.createElement("canvas");o.width=16,o.height=16;var i=o.getContext("2d"),a=document.createElement("img");return a.addEventListener("error",function(e){t(e)}),a.addEventListener("load",function(){if(!i)throw new Error("Canvas context could not be found");i.drawImage(a,0,0),L.href=A?o.toDataURL("image/x-icon"):r,x(),e(L)}),void(a.src=r)}L.rel="stylesheet",L.type="text/css",L.href=r,x(),L.addEventListener("error",function(e){n(e)}),L.addEventListener("load",function(){e(L)})})}(e)}))}});
//# sourceMappingURL=index-umd.min.cjs.map
