function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=[],n=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return t}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}export default function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.before,i=t.after,o=t.favicon,a=t.canvas,c=t.image,d=void 0===c||c,f=t.acceptErrors;return r=Array.isArray(r)?r:[r],Promise.all(r.map(function(r){var t={};if(Array.isArray(r)){var c=e(r,2);r=c[0];var u=c[1];t=void 0===u?{}:u}var v=t.favicon,s=void 0===v?o:v,l=t,h=l.before,m=void 0===h?n:h,y=l.after,p=void 0===y?i:y,g=l.canvas,E=void 0===g?a:g,w=l.image,x=void 0===w?d:w;function A(){m?m.before(L):p?p.after(L):document.head.appendChild(L)}var L=document.createElement("link");return new Promise(function(e,n){var i=n;if(f&&(i="function"==typeof f?function(i){f({error:i,stylesheetURL:r,options:t,resolve:e,reject:n})}:e),r.endsWith(".css")?s=!1:r.endsWith(".ico")&&(s=!0),s){if(L.rel="shortcut icon",L.type="image/x-icon",!1===x)return L.href=r,A(),void e(L);var o=document.createElement("canvas");o.width=16,o.height=16;var a=o.getContext("2d"),c=document.createElement("img");return c.addEventListener("error",function(e){n(e)}),c.addEventListener("load",function(){a.drawImage(c,0,0),L.href=E?o.toDataURL("image/x-icon"):r,A(),e(L)}),void(c.src=r)}L.rel="stylesheet",L.type="text/css",L.href=r,A(),L.addEventListener("error",function(e){i(e)}),L.addEventListener("load",function(){e(L)})})}))}
//# sourceMappingURL=index-es.min.js.map
