!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.loadStylesheets=t()}(this,function(){"use strict";return function(e,{before:t,after:n,favicon:r,canvas:o,image:i=!0}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){function d(){t?t.before(a):n?n.after(a):document.head.appendChild(a)}const a=document.createElement("link");return new Promise((t,n)=>{if(e.endsWith(".ico")&&(r=!0),r){if(a.rel="shortcut icon",a.type="image/x-icon",!1===i)return a.href=e,d(),void t(a);const r=document.createElement("canvas");r.width=16,r.height=16;const c=r.getContext("2d"),s=document.createElement("img");return s.addEventListener("error",e=>{n(e)}),s.addEventListener("load",()=>{c.drawImage(s,0,0),a.href=o?r.toDataURL("image/x-icon"):e,d(),t(a)}),void(s.src=e)}a.rel="stylesheet",a.type="text/css",a.href=e,d(),a.addEventListener("error",e=>{n(e)}),a.addEventListener("load",()=>{t(a)})})}))}});
