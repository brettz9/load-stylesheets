function loadStylesheets(e,{before:t,after:r,favicon:n,canvas:a,image:o=!0}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){function i(){t?t.before(d):r?r.after(d):document.head.appendChild(d)}const d=document.createElement("link");return new Promise((t,r)=>{if(n){if(d.rel="shortcut icon",d.type="image/x-icon",!1===o)return d.href=e,i(),void t(d);const n=document.createElement("canvas");n.width=16,n.height=16;const c=n.getContext("2d"),s=document.createElement("img");return s.addEventListener("error",e=>{r(e)}),s.addEventListener("load",()=>{c.drawImage(s,0,0),d.href=a?n.toDataURL("image/x-icon"):e,i(),t(d)}),void(s.src=e)}d.rel="stylesheet",d.type="text/css",d.href=e,i(),d.addEventListener("error",e=>{r(e)}),d.addEventListener("load",()=>{t(d)})})}))}export default loadStylesheets;
