!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).loadStylesheets=t()}(this,(function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.before,o=r.after,i=r.favicon,a=r.canvas,c=r.image,f=void 0===c||c,d=r.acceptErrors;return t=Array.isArray(t)?t:[t],Promise.all(t.map((function(t){return function(t){var r={};if(Array.isArray(t)){var c=e(t,2);t=c[0];var u=c[1];r=void 0===u?{}:u}var s=r.favicon,l=void 0===s?i:s,v=r,m=v.before,y=void 0===m?n:m,h=v.after,p=void 0===h?o:h,g=v.canvas,b=void 0===g?a:g,E=v.image,x=void 0===E?f:E;function A(){y?y.before(w):p?p.after(w):document.head.appendChild(w)}var w=document.createElement("link");return new Promise((function(e,n){var o=n;if(d&&(o="function"==typeof d?function(o){d({error:o,stylesheetURL:t,options:r,resolve:e,reject:n})}:e),t.endsWith(".css")?l=!1:t.endsWith(".ico")&&(l=!0),l){if(w.rel="shortcut icon",w.type="image/x-icon",!1===x)return w.href=t,A(),void e(w);var i=document.createElement("canvas");i.width=16,i.height=16;var a=i.getContext("2d"),c=document.createElement("img");return c.addEventListener("error",(function(e){n(e)})),c.addEventListener("load",(function(){a.drawImage(c,0,0),w.href=b?i.toDataURL("image/x-icon"):t,A(),e(w)})),void(c.src=t)}w.rel="stylesheet",w.type="text/css",w.href=t,A(),w.addEventListener("error",(function(e){o(e)})),w.addEventListener("load",(function(){e(w)}))}))}(t)})))}}));
//# sourceMappingURL=index-umd.min.js.map
