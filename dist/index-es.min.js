function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return t}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}export default function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.before,o=t.after,i=t.favicon,a=t.canvas,c=t.image,u=void 0===c||c,d=t.acceptErrors;return r=Array.isArray(r)?r:[r],Promise.all(r.map((function(r){return function(r){var t={};if(Array.isArray(r)){var c=e(r,2);r=c[0];var f=c[1];t=void 0===f?{}:f}var v=t.favicon,s=void 0===v?i:v,l=t,m=l.before,h=void 0===m?n:m,y=l.after,p=void 0===y?o:y,g=l.canvas,b=void 0===g?a:g,E=l.image,A=void 0===E?u:E;function w(){h?h.before(x):p?p.after(x):document.head.appendChild(x)}var x=document.createElement("link");return new Promise((function(e,n){var o=n;if(d&&(o="function"==typeof d?function(o){d({error:o,stylesheetURL:r,options:t,resolve:e,reject:n})}:e),r.endsWith(".css")?s=!1:r.endsWith(".ico")&&(s=!0),s){if(x.rel="shortcut icon",x.type="image/x-icon",!1===A)return x.href=r,w(),void e(x);var i=document.createElement("canvas");i.width=16,i.height=16;var a=i.getContext("2d"),c=document.createElement("img");return c.addEventListener("error",(function(e){n(e)})),c.addEventListener("load",(function(){a.drawImage(c,0,0),x.href=b?i.toDataURL("image/x-icon"):r,w(),e(x)})),void(c.src=r)}x.rel="stylesheet",x.type="text/css",x.href=r,w(),x.addEventListener("error",(function(e){o(e)})),x.addEventListener("load",(function(){e(x)}))}))}(r)})))}
//# sourceMappingURL=index-es.min.js.map
