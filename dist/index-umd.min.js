!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.loadStylesheets=t()}(this,function(){"use strict";return function(e,{before:t,after:n,favicon:r,canvas:o,image:i=!0}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){function a(){t?t.before(d):n?n.after(d):document.head.appendChild(d)}const d=document.createElement("link");return new Promise((t,n)=>{if(r){if(d.rel="shortcut icon",d.type="image/x-icon",!1===i)return d.href=e,a(),void t(d);const r=document.createElement("canvas");r.width=16,r.height=16;const c=r.getContext("2d"),s=document.createElement("img");return s.addEventListener("error",e=>{n(e)}),s.addEventListener("load",()=>{c.drawImage(s,0,0),d.href=o?r.toDataURL("image/x-icon"):e,a(),t(d)}),void(s.src=e)}d.rel="stylesheet",d.type="text/css",d.href=e,a(),d.addEventListener("error",e=>{n(e)}),d.addEventListener("load",()=>{t(d)})})}))}});
