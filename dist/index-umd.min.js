!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.loadStylesheets=t()}(this,function(){"use strict";return function(e,{before:t,after:n,favicon:r,canvas:o,image:i=!0,acceptErrors:a}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){let s={};Array.isArray(e)&&([e,s={}]=e);let{favicon:c=r}=s;const{before:d=t,after:f=n,canvas:u=o,image:l=i}=s;function m(){d?d.before(h):f?f.after(h):document.head.appendChild(h)}const h=document.createElement("link");return new Promise((t,n)=>{if(a&&(n="function"==typeof a?r=>{a({error:r,stylesheetURL:e,options:s,resolve:t,reject:n})}:t),e.endsWith(".css")?c=!1:e.endsWith(".ico")&&(c=!0),c){if(h.rel="shortcut icon",h.type="image/x-icon",!1===l)return h.href=e,m(),void t(h);const r=document.createElement("canvas");r.width=16,r.height=16;const o=r.getContext("2d"),i=document.createElement("img");return i.addEventListener("error",e=>{n(e)}),i.addEventListener("load",()=>{o.drawImage(i,0,0),h.href=u?r.toDataURL("image/x-icon"):e,m(),t(h)}),void(i.src=e)}h.rel="stylesheet",h.type="text/css",h.href=e,m(),h.addEventListener("error",e=>{n(e)}),h.addEventListener("load",()=>{t(h)})})}))}});
//# sourceMappingURL=index-umd.min.js.map
