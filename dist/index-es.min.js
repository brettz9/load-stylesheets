function loadStylesheets(e,{before:t,after:r,favicon:n,canvas:o,image:a=!0,acceptErrors:i}={}){return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){let s={};Array.isArray(e)&&([e,s={}]=e);let{favicon:c=n}=s;const{before:d=t,after:l=r,canvas:f=o,image:m=a}=s;function h(){d?d.before(u):l?l.after(u):document.head.appendChild(u)}const u=document.createElement("link");return new Promise((t,r)=>{let n=r;if(i&&(n="function"==typeof i?n=>{i({error:n,stylesheetURL:e,options:s,resolve:t,reject:r})}:t),e.endsWith(".css")?c=!1:e.endsWith(".ico")&&(c=!0),c){if(u.rel="shortcut icon",u.type="image/x-icon",!1===m)return u.href=e,h(),void t(u);const n=document.createElement("canvas");n.width=16,n.height=16;const o=n.getContext("2d"),a=document.createElement("img");return a.addEventListener("error",e=>{r(e)}),a.addEventListener("load",()=>{o.drawImage(a,0,0),u.href=f?n.toDataURL("image/x-icon"):e,h(),t(u)}),void(a.src=e)}u.rel="stylesheet",u.type="text/css",u.href=e,h(),u.addEventListener("error",e=>{n(e)}),u.addEventListener("load",()=>{t(u)})})}))}export default loadStylesheets;
//# sourceMappingURL=index-es.min.js.map
